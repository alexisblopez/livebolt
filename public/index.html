<!DOCTYPE HTML>
<html ng-app = "app">
	<head>
		<title>LiveBolt</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" charset="utf-8"></script>
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>


	</head>
	<body class="is-loading">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<section id="main">
						<header>
							<span class="avatar"><img src="images/avatar1.png" alt="" /></span>
							<h1>LiveBolt</h1>
							<p>Welcome home, Sour Patch Kids.</p>
						</header>

						<footer>
							<ul class="icons">
								<li>
								<img id="myButton" src="images/lock.png" />
	              <script type="text/javascript">

	                  var images = ['images/lock.png', 'images/unlock.png'],
	                      i = 1;
	                  // preload images
	                  for (var j=images.length; j--;) {
	                      var img = new Image();
	                      img.src = images[j];
	                  }
	                  //event handler
										//before button is pressed another get request to the server to see the current state of the lock
	                  document.getElementById('myButton').addEventListener('click', function() {
	                      this.src = images[i%2];
												//for time : need to demo product can make sure server is in 1 specified state upon start
												//then can make sure 1 person demos at a single time
												//cannot do if statements on i because becomes a race condition with multiple users

												i = i%2 + 1;
													$.ajax({
														url: '/lock',
	                          type: 'POST',
														data: 'data',
														success: function(data){
														}
													})

	                  }, false);
	              </script>
							 </li>
							</ul>
						</footer>
					</section>
				<!-- Footer -->
					<footer id="footer">
						<ul class="copyright">
							<li>&copy; LiveBolt</li><li>Sour Patch Kids</li>
						</ul>
					</footer>
			</div>

		<!-- Scripts -->
			<!--[if lte IE 8]><script src="assets/js/respond.min.js"></script><![endif]-->
			<script>
				if ('addEventListener' in window) {
					window.addEventListener('load', function() { document.body.className = document.body.className.replace(/\bis-loading\b/, ''); });
					document.body.className += (navigator.userAgent.match(/(MSIE|rv:11\.0)/) ? ' is-ie' : '');
				}
			</script>

	</body>
</html>
